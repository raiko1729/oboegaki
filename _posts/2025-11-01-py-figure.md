---
layout: post
title: "Pythonã‚’ä½¿ã£ã¦ã‚°ãƒ©ãƒ•ã‚’ä½œæˆã—ã‚ˆã†"
date: 2025-11-01
image: /assets/images/2025-11-06-icon.png
tags: ["ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°", "ã‚¿ã‚¹ã‚¯ç®¡ç†"]
---

## ãªã‚“ã§ãªã®ï¼Ÿ

ä»Šã¾ã§Excelã§å®Ÿé¨“ãƒ¬ãƒãƒ¼ãƒˆã®ã‚°ãƒ©ãƒ•ã‚’ä½œæˆã—ã¦ã„ãŸãŒï¼Œä½“è£ã‚’æ•´ãˆã‚‹ã®ãŒå„„åŠ«ã ã—ï¼Œè¦‹ãŸç›®ãƒ€ã‚µã„

MATLABã¯ãƒ©ã‚¤ã‚»ãƒ³ã‚¹é«˜ã„

ã˜ã‚ƒã‚Pythonã‹ãƒ¼ã¨ã„ã†æµã‚Œï¼


## ã“ã®æ–‡ç« ã®ç›®çš„

- ä½¿ç”¨ã™ã‚‹Pythonãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ–ãƒ©ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹åŒ–ã—ãªã„ã‚ˆã†ã«ï¼ˆå¿˜ã‚Œã£ã½ã„ã‹ã‚‰ï¼‰
ãŠã¼ãˆãŒãã¨ã—ã¦ä½¿ã†ï¼
- å®Ÿé¨“ãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ãã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ãŒã¡ã‚‡ã£ã¨è¤‡é›‘ã«ãªã‚‹ã‹ã‚‰ï¼Œãã‚Œã‚’ã¾ã¨ã‚ã¦ãŠãï¼

ã“ã®æ–¹ã®ã‚³ãƒ¼ãƒ‰ã‚’å‚è€ƒã«ã—ãŸï¼[ğŸ”—Qiita å­¦ç”Ÿå®Ÿé¨“ç”¨ã®ã‚°ãƒ©ãƒ•ä½œæˆè¡“](https://qiita.com/Harry_Arbrebleu/items/9179cf411ea9fcd1bb47)

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã«ã¤ã„ã¦

```
ç¬¬â—‹â—‹å›å®Ÿé¨“
â”œâ”€é…å¸ƒè³‡æ–™.pdf
â”œâ”€å®Œæˆã—ãŸãƒ¬ãƒãƒ¼ãƒˆ.pdf
â”œâ”€æ¸¬å®šãƒ‡ãƒ¼ã‚¿.xlsx
â”œâ”€tex
â”‚    â”œout
â”‚    â”œreport.tex
â”‚    â”œfigure_data1.pdf
â”‚    â”œfigure_data2.pdf
â”‚
â”‚# ã“ã“ï¼
â”œpy-pdf-figure
â”‚    â”œdata1.csv
â”‚    â”œdata2.csv
â”‚    â”œpy_data1.py
â”‚    â”œpy_data2.py
```

ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯ä¸Šã®å›³ã§è¨€ã†ã¨ã“ã‚ã®`py_data1.py`ã§ã‚ã‚‹ï¼


## ã‚³ãƒ¼ãƒ‰ã®èª¬æ˜

ã¨ã‚Šã‚ãˆãšå…¨ä½“

ãƒ‡ãƒ¼ã‚¿ã¯åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«CSVã‚’ç½®ãï¼åˆ—ãŒåŒã˜æˆåˆ†ã¨ãªã‚‹ã‚ˆã†ã«ã™ã‚‹

ä»¥ä¸‹ã¯ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ—ãƒ­ãƒƒãƒˆã—ã¦æ•£å¸ƒå›³ã‚’ä½œæˆã—ã¦ï¼Œè¿‘ä¼¼æ›²ç·šï¼ˆç›´ç·šï¼‰ã‚’ã‹ãã‚³ãƒ¼ãƒ‰

```python
#Step0. ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import numpy as np
from matplotlib import pyplot as plt
from scipy import optimize
import japanize_matplotlib

#Step1. å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
data1 = np.loadtxt("data1.csv", dtype = "float", delimiter = ",")
data1 = data1.T
x1 = data1[0]
y1 = data1[1]

#Step2. ç†è«–å¼ã§ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°
def f(x, a, b):
    return a * x + b
popt1, pcov1 = optimize.curve_fit(f, x1, y1)

#Step3. ç›®ç››ã‚Šã®å ´æ‰€ã¨å‘ãã®è¨­å®š
plt.rcParams['font.size'] = 14
plt.rcParams['xtick.direction'] = 'in'
plt.rcParams['ytick.direction'] = 'in'
fig = plt.figure()
ax1 = fig.add_subplot(111)
ax1.xaxis.set_ticks_position('both')
ax1.yaxis.set_ticks_position('both')
plt.tick_params(length = 5)

#Step4. è»¸ãƒ©ãƒ™ãƒ«ã®è¨­å®š
ax1.set_xlabel(r"é›»æµ$I/\rm{\mu A}$")
ax1.set_ylabel(r"é›»åœ§$V/\rm{mV}$")

#Step5. å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ã®ãƒ—ãƒ­ãƒƒãƒˆ
plt.scatter(x1, y1, color = "k", label = "å®Ÿé¨“å€¤", marker = ",")

#Step6. ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ã—ãŸå‡½æ•°ã®ãƒ—ãƒ­ãƒƒãƒˆ
xk = np.arange(min(x1), max(x1), 0.01)
plt.plot(xk, f(xk, popt1[0], popt1[1]), color = "k", label = "è¿‘ä¼¼æ›²ç·š")

#Step7. å‡¡ä¾‹ã®ä»˜åŠ 
plt.legend()

#Step8. ç”»åƒã®ä¿å­˜ã¨è¡¨ç¤º
plt.savefig("out.png", bbox_inches = "tight", dpi = 350)
plt.savefig("out.pdf", bbox_inches = "tight")
plt.show()
plt.close()
```

## å„ãƒ‘ãƒ¼ãƒ„ã”ã¨

### Step1

```pythop
#Step1. å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
data1 = np.loadtxt("data1.csv", dtype = "float", delimiter = ",")
data1 = data1.T
x1 = data1[0]
y1 = data1[1]
```

CSVãŒç¸¦ã«åŒã˜æˆåˆ†ã ã‹ã‚‰ï¼Œè»¢ç½®ã—ã¦ãƒªã‚¹ãƒˆã§æ‰±ã„ã‚„ã™ãã—ã¦ã„ã‚‹ï¼

### Step2

```pythop
#Step2. ç†è«–å¼ã§ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°
def f(x, a, b):
    return a * x + b
popt1, pcov1 = optimize.curve_fit(f, x1, y1)
```

`optimize.curve_fit`ã§ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ã—ã¦ã„ã‚‹ï¼
å®Ÿé¨“ã«ã‚ˆã£ã¦aã¨bã‚’å‡ºåŠ›ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã‚‚ã„ã„ã‹ã‚‚ï¼

2æ¬¡è¿‘ä¼¼ã‚„æŒ‡æ•°é–¢æ•°è¿‘ä¼¼ã‚‚ã§ãã‚‹ã‚ˆï¼

æŒ‡æ•°é–¢æ•°è¿‘ä¼¼ã®ã¨ãã¯

```python
def func(x, a):
    y = a * np.exp(x) 
    return y
```

ã“ã‚“ãªæ„Ÿã˜ï¼ˆã§ãã‚‹ã‹ã¾ã ç¢ºã‹ã‚ã¦ãªã„2025-11-06æ™‚ç‚¹ï¼‰

### Step3

```python
#Step3. ç›®ç››ã‚Šã®å ´æ‰€ã¨å‘ãã®è¨­å®š
plt.rcParams['font.size'] = 14
plt.rcParams['xtick.direction'] = 'in'
plt.rcParams['ytick.direction'] = 'in'
fig = plt.figure()
ax1 = fig.add_subplot(111)
ax1.xaxis.set_ticks_position('both')
ax1.yaxis.set_ticks_position('both')
plt.tick_params(length = 5)
```

ç‰¹ã«è¨€ã†ã“ã¨ãªã„ï¼

### Step4

```python
#Step4. è»¸ãƒ©ãƒ™ãƒ«ã®è¨­å®š
ax1.set_xlabel(r"é›»æµ$I/\rm{\mu A}$")
ax1.set_ylabel(r"é›»åœ§$V/\rm{mV}$")
```

ã“ã“ã§è»¸ã®åå‰ã‚’è¡¨ç¤ºï¼
ã‚¤ã‚¿ãƒªãƒƒã‚¯ä½“ã¨ãƒ­ãƒ¼ãƒãƒ³ä½“ã®ä½¿ã„åˆ†ã‘æ¥½ã«ã§ãã‚‹ï¼

### Step5

```python
#Step5. å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ã®ãƒ—ãƒ­ãƒƒãƒˆ
plt.scatter(x1, y1, color = "k", label = "å®Ÿé¨“å€¤", marker = ",")
```

- `color = "k"` ãƒ—ãƒ­ãƒƒãƒˆã™ã‚‹è‰²ï¼ˆkã¯é»’ï¼‰
- `label = "å®Ÿé¨“å€¤"` å‡¡ä¾‹ã®åå‰
- `marker = ","` ãƒ—ãƒ­ãƒƒãƒˆã™ã‚‹å›³å½¢ï¼ˆ,ã¯å››è§’ï¼‰

### Step6

```python
#Step6. ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ã—ãŸå‡½æ•°ã®ãƒ—ãƒ­ãƒƒãƒˆ
xk = np.arange(min(x1), max(x1), 0.01)
plt.plot(xk, f(xk, popt1[0], popt1[1]), color = "k", label = "è¿‘ä¼¼æ›²ç·š")
```

- `color = "k"` å‡½æ•°ã®è‰²ï¼ˆkã¯é»’ï¼‰
- `label = "è¿‘ä¼¼æ›²ç·š"` å‡¡ä¾‹ã®åå‰

### Step7

```python
#Step7. å‡¡ä¾‹ã®ä»˜åŠ 
plt.legend()
```

å‡¡ä¾‹ã¤ã‘ã¦ã‚‹

### Step8

```python
#Step8. ç”»åƒã®ä¿å­˜ã¨è¡¨ç¤º
plt.savefig("out.png", bbox_inches = "tight", dpi = 350)
plt.savefig("out.pdf", bbox_inches = "tight")
plt.show()
plt.close()
```

ç”»åƒã‚’out.pngï¼Œout.pdfã¨ã—ã¦å‡ºåŠ›ï¼ä¸»ã«ä½¿ã†ã®ã¯pdfã‚„ã‹ã‚‰pngã®ã¨ã“ã‚ã¯æ¶ˆã—ã¦ã‚‚ã„ã„ã­ï¼

## æ•£å¸ƒå›³ã«2ã¤ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ—ãƒ­ãƒƒãƒˆã—ãŸã„ã¨ã

ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã‚’åŠ ãˆã‚‹ã¨ã†ã¾ãã„ãï¼

ã€Œã“ã“ï¼ã€ã£ã¦ã‹ã„ã¦ã‚ã‚‹ã¨ã“ã‚ãŒå¤‰æ›´ã‚’åŠ ãˆãŸã¨ã“ï¼

```python
#Step0. ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import numpy as np
from matplotlib import pyplot as plt
from scipy import optimize
import japanize_matplotlib

#Step1. å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
data1 = np.loadtxt("data1.csv", dtype = "float", delimiter = ",")

## ã“ã“ï¼
data2 = np.loadtxt("data2.csv", dtype = "float", delimiter = ",")
data1 = data1.T

## ã“ã“ï¼
data2 = data2.T
x1 = data1[0]
y1 = data1[1]

## ã“ã“ï¼
x2 = data2[0]
y2 = data2[1]

#Step2. ç†è«–å¼ã§ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°
def f(x, a, b):
    return a / x + b
popt1, pcov1 = optimize.curve_fit(f, x1, y1)

## ã“ã“ï¼
popt2, pcov2= optimize.curve_fit(f, x2, y2)

#Step3. ç›®ç››ã‚Šã®å ´æ‰€ã¨å‘ãã®è¨­å®š
plt.rcParams['font.size'] = 14
plt.rcParams['xtick.direction'] = 'in'
plt.rcParams['ytick.direction'] = 'in'
fig = plt.figure()
ax1 = fig.add_subplot(111)
ax1.xaxis.set_ticks_position('both')
ax1.yaxis.set_ticks_position('both')
plt.tick_params(length = 5)

#Step4. è»¸ãƒ©ãƒ™ãƒ«ã®è¨­å®š
ax1.set_xlabel(r"ä½“ç©$V/\rm{cc}$")
ax1.set_ylabel(r"åœ§åŠ›$p/\rm{kPa}$")

#Step5. å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ã®ãƒ—ãƒ­ãƒƒãƒˆ
plt.scatter(x1, y1, color = "b", label = "å®Ÿé¨“å€¤", marker = ",", zorder=3)

#Step6. ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ã—ãŸå‡½æ•°ã®ãƒ—ãƒ­ãƒƒãƒˆ
xk = np.arange(min(min(x1), min(x2)), max(max(x1), max(x2)), 0.01)
plt.plot(xk, f(xk, popt1[0], popt1[1]), color = "b", label = "è¿‘ä¼¼æ›²ç·š", zorder=2)

## ã“ã“ï¼
plt.plot(xk, f(xk, popt2[0], popt2[1]), color = "r", label = "ç†è«–å€¤", zorder=1)


#Step7. å‡¡ä¾‹ã®ä»˜åŠ 
plt.legend()

#Step8. ç”»åƒã®ä¿å­˜ã¨è¡¨ç¤º
plt.savefig("out.png", bbox_inches = "tight", dpi = 350)
plt.savefig("out.pdf", bbox_inches = "tight")
plt.show()
plt.close()
```